// Generated by CoffeeScript 1.7.1
(function() {
  window.IndexPage = (function() {
    function IndexPage(page, activityTracker) {
      var c;
      this.page = page;
      this.activityTracker = activityTracker;
      c = $('#cardname', this.page).focus();
      this.closeBoxInit('submitcookies', 'cookies-agree', 'cookies-accept-block');
      this.closeBoxInit('hidenews', 'news-hide-1', 'news-block');
      this.closeBoxInit('hidenews', 'news-hide-2', 'news-block');
    }

    IndexPage.prototype.closeBoxInit = function(action, evokerId, boxId) {
      return $('#' + evokerId, this.page).on('click', (function(_this) {
        return function(e) {
          e.preventDefault();
          _this.activityTracker.trackEvent('IndexPage', 'closeBox', evokerId);
          $('#' + boxId).fadeOut();
          $.ajax({
            url: jsParams.baseUrl + '/json/' + action,
            method: 'POST',
            dataType: 'json'
          });
        };
      })(this));
    };

    return IndexPage;

  })();

}).call(this);
