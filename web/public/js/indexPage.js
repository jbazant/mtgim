// Generated by CoffeeScript 1.8.0
(function() {
  window.IndexPage = (function() {
    function IndexPage(page, activityTracker) {
      var c;
      this.page = page;
      this.activityTracker = activityTracker;
      c = $('#cardname', this.page).focus();
      this.closeBoxInit('submitcookies', 'cookies-agree', 'cookies-accept-block');
      this.closeBoxInit('hidenews', 'news-hide', 'news-block');
    }

    IndexPage.prototype.closeBoxInit = function(action, evokerId, boxId) {
      return $('#' + evokerId, this.page).on('click', function(e) {
        e.preventDefault();
        this.activityTracker.trackEvent('IndexPage', 'click', evokerId);
        $('#' + boxId).fadeOut();
        $.ajax({
          url: jsParams.baseUrl + '/json/' + action,
          method: 'POST',
          dataType: 'json'
        });
      });
    };

    return IndexPage;

  })();

}).call(this);
